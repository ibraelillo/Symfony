{% extends "::frontend.html.twig" %}

{% block title %}Gites à Guadeloupe{% endblock %}

{% block templates %}
<script type="text/template" id="signup">
    <div id="box_sign">
        <div class="container">
            <div class="span12 box_wrapper">
                <div class="span12 box">
                    <div>
                        <div class="head">
                            <h4>Creer votre compte</h4>
                        </div>
                        <div class="form">
                            <form>
                                <input type="text" placeholder="Email">
                                <input type="password" placeholder="Mot de passe">
                                <input type="password" placeholder="Confirmation">
                                <button type="submit" class="btn">
                                    <i class="icon-ok"></i> Enregistrer
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
                <p class="already">Avez vous d&eacute;jà une compte?
                    <a href="#!/signin">Entrer comme client</a></p>
            </div>
        </div>
    </div>
</script>


<script type="text/template" id="portfolio">
    <% var i, j=0; for(i = 4; i <= gallery.length+3; i+=4){ %>
        <% var fotos = gallery.slice(j, Math.min(i,gallery.length)) %>
        <div class="row-fluid">
            <ul class="thumbnails">
                <% _.each(fotos, function(img){ %>
                <li class="span3">
                    <div class="thumbnail">
                        <div class="pic">
                            <a class="fancybox" href="<%=img.big%>">
                                <img class="pic" alt="<%=nombre%>" src="<%=img.big%>">
                                <img class="see_more" src="{{ asset('img/thumb_more.png') }}">
                            </a>
                        </div>
                    </div>
                </li>
                <% }); %>
            </ul>
        </div>
    <% j = i; } %>
</script>

<script type="text/template" id="location-detail">
    <div class="row-fluid" >
        <div class="span3 well">
            <div class="section">
                <h4>
                    <span>Prix</span>
                    <hr class="right visible-desktop">
                </h4>
                <ul class="nav nav-list nav-stacked">
                    <li class="price"><i class="icon-money"></i> <strong><%=precio%> &euro;</strong> par semaine</li>
                    <li><i class="icon-bar-chart"></i> Offres regresives</li>
                </ul>
                <h4>
                    <span>Contacter</span>
                    <hr class="right visible-desktop">
                </h4>
                <ul class="nav nav-stacked nav-list">
                    <li><i class="icon-phone"></i> +33 (0) 605 222 333</li>
                    <li><i class="icon-envelope-alt"></i> reserve@casasthomanon.com</li>
                </ul>
                <h4>
                    <span>Services</span>
                    <hr class="right visible-desktop">
                </h4>
                <ul class="nav nav-list nav-stacked">
                    <% if(cocina) { %><li><i class="icon-food"></i>Cuisine</li><% } %>
                    <li><i class="icon-signal"></i>Internet / Wifi</li>
                    <li><i class="icon-group"></i> 9 personnes </li>
                </ul>
                <h4>
                    <span>Paiment</span>
                    <hr class="right visible-desktop">
                </h4>
                <ul class="nav nav-list nav-stacked">
                    <li><i class="icon-credit-card"></i> Carte blue</li>
                    <li><i class="icon-file"></i> Check vacances </li>
                </ul>
            </div>
        </div>
        <div class="span9">
            <section id="description">
                <h4 class="section_header">
                    <hr class="left visible-desktop">
                    <span>Information basique</span>
                    <small><address><i class="icon-map-marker"></i> <%=direccion%></address></small>
                    <hr class="right visible-desktop">
                </h4>
                <div class="post_content"><p>
                        <% var lignes = descripcion.trim('"').split('.'), i =0; %>
                        <ul class="unstyled">
                        <% for(i =0; i< lignes.length; i++) { %><li><i class="icon-ok"></i> <%=lignes[i]%>.</li><% } %>
                        </ul>
                    </p></div>
            </section>
            <section id="comments">
                <h4 class="section_header">
                    <hr class="left visible-desktop">
                    <span>Commentaires</span>
                    <hr class="right visible-desktop">
                </h4>

            </section>

        </div>
    </div>

</script>

<script type="text/template" id="location-preview">
        <div class="row" id="loc<%=slug%>">
            <div class="span3">
                <a href="#!/location/<%=slug%>" class="loc<%=nombre%>">
                    <img class="main_pic" alt="main pic" src="<%=portada%>" />
                </a>
            </div>
            <div class="span4 info">
                <h3><a href="#!/location/<%=slug%>">
                    <i class="icon-home"></i> <%=nombre%></a>
                </h3>
                <p><%=truncate(descripcion, 200, true) %></p>
                <div class="post_info">
                    <div class="author">
                        <span rel="tooltip" title="Maximum <%=capacidad%> personnes"><b class="icon-group"></b> <%=capacidad%> personnes</span>
                    </div>
                </div>
            </div>
        </div>
        <a href="#!/location/<%=slug%>" class="btn loc<%=slug%>" data-loading-text="Loading..."><i class="icon-plus"></i> Plus d' info</a>
</script>
<script type="text/template" id="location-slide">
       <div class="row">
            <div class="span6 <% if(precio > 400 && precio < 600 ){ %>animated fadeInDownBig<% } else { %>animated fadeInUpBig<% } %>">
                <a href="#!/location/<%=slug%>" title="<%=nombre%>"><img class="img-polaroid" src="<%=portada%>" alt="<%=nombre%>" /></a>
            </div>
            <div class="span4 <% if(precio > 400 && precio < 600 ){ %>animated fadeInUpBig<% } else { %>animated fadeInDownBig<% } %>">
                <h1><a href="#!/location/<%=slug%>"> <%=nombre%></a></h1>
                <p><%=truncate(descripcion, 200, true)%></p>
                <a href="#!/location/<%=slug%>" class="btn btn-success btn-large">
                    <i class="icon-calendar"></i> Réserver!</a>
            </div>
        </div>
</script>
<script type="text/template" id="location-features">
    <a href="#!/location/<%=slug%>"><img src="<%=portada%>" alt="<%=nombre%>" class="thumb" width="80%" /></a>
    <h3><i class="icon-home"></i> <%=nombre%></h3>
    <p class="description"><%=truncate(descripcion, 200, true)%></p>
    <a href="#!/location/<%=slug%>" class="btn btn-default"><i class="icon-plus"></i> Plus...</a>
</script>
<script type="text/template" id="location-pricing">
    <div class="price_wrapper <%=clasif %> <% if (clasif != 'pro') { %>regular <% } %>">
        <div class="header">
            <span><%=nombre%></span>
            <div class="price">
                <span><%=precio%> &euro;</span>
                Par semaine
            </div>
        </div>
        <div class="section">
            <h3>Services</h3>
            <ul class="perks">
                <% if(cocina) { %><li><i class="icon-food"></i>Cuisine</li><% } %>
                <li><i class="icon-signal"></i>Internet / Wifi</li>
                <li>
                    <i class="i_loading"></i>
                    Fast-loading
                </li>
            </ul>
            <a href="#!/location/<%=slug%>" class="btn"><i class="icon-calendar"></i> R&eacute;server</a>
        </div>
    </div>
</script>


{% endblock %}

{% block javascripts %}

    <script type="text/javascript">
        var truncate = function(cad, length, radical){
            if(!radical){
                return cad.length < length ? cad : cad.substr(0, length)+'...';
            }
            else{
                var aux, i = length, result = cad.substr(0,length);
                while(i < cad.length && (aux = cad.substr(i, 1)) != undefined && aux != ' ' ){
                    result += aux;
                    i++;
                }
                return result+'...';
            }
        }
        var App = App || {
            container: '#content',
            pages: {
                contact: '{{ path('pagina_estatica', {'tpl': 'contact'}) }}'
            },
            title: "{{ entreprise }}",
            Settings : {
                logo: '{{ asset('img/logo.png') }}',
                urlLocations: "{{ path('location') }}",
                ajax_loader: '{{ asset('img/ajax-loader.gif') }}'
            },
            User: {
                username: null,
                roles: null
            },
            Session: null
        };

    </script>
    {{ parent() }}

    <script type="text/javascript">
        $(function(){

            App.Session = Backbone.Model.extend({

                cookie: '',
                token: '',
                flashes: '',
                user: null,

                load: function(){

                }

            });

            App.init();
            /*new App.SliderView({ collection: gites, el: $("#hero")});
            new App.FeaturesView({ collection: gites, el: $("#features") });
            new App.PricesView({ collection: gites, el: $("#pricing")});*/
        });
    </script>
{% endblock %}



